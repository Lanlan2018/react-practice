(this["webpackJsonpreact-practice"]=this["webpackJsonpreact-practice"]||[]).push([[0],{23:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(21),l=a.n(c),i=(a(28),a(29),a(15)),o=a(2),s=a(9),h=a(10),u=a(11),m=a(13),d=a(12),p=a(7),y=a(0);function f(e){var t;switch(e.weather.weatherCode){case 100:t=r.a.createElement(p.e,null);break;case 101:case 102:t=r.a.createElement(p.b,null);break;case 103:t=r.a.createElement(p.c,null);break;case 104:t=r.a.createElement(p.a,null);break;case 305:t=r.a.createElement(p.d,null);break;case 306:t=r.a.createElement(p.h,null);break;case 307:t=r.a.createElement(p.g,null)}if(!t)switch((e.weather.weatherCode/100).toFixed(0)){case"3":t=r.a.createElement(p.g,null);break;case"4":t=r.a.createElement(p.i,null);break;case"5":t=r.a.createElement(p.f,null);break;default:t=r.a.createElement(p.b,null)}return r.a.createElement("div",{className:"dayly-weather-container",onClick:e.handleClick},r.a.createElement("div",{className:"time"},e.weather.time),r.a.createElement(y.b.Provider,{value:{color:"blue",size:"4em",className:"global-weather-icon"}},r.a.createElement("div",null,t)),r.a.createElement("h3",null,e.weather.weatherText),r.a.createElement("div",{className:"temp"},r.a.createElement("span",{className:"high-temp"},e.weather.highTemp,"\u2103"),r.a.createElement("span",{className:"low-temp"},e.weather.lowTemp,"\u2103")))}var v=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).inputOnBlur=function(){n.setState({isShowCheckBox:!1})},n.inputOnFocus=function(){n.setState({isShowCheckBox:!0}),n.state.keyWord.length>=2&&n.searchCity(n.state.keyWord)},n.state={keyWord:"",resultArr:[]},n.keyWordChange=n.keyWordChange.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:"searchCity",value:function(e){var t=this;fetch("https://geoapi.heweather.net/v2/city/lookup?key=5985d625110348c3ac510770a2f400b5&location="+e).then((function(e){return e.json()})).then((function(e){if("404"===e.code)t.setState({resultArr:[]});else{var a=e.location.map((function(e){return{name:e.name}}));t.setState({resultArr:a})}}))}},{key:"keyWordChange",value:function(e){e.target.value.length>=2?(this.setState({keyWord:e.target.value}),this.searchCity(e.target.value)):this.setState({resultArr:[],keyWord:e.target.value})}},{key:"cityChange",value:function(e){this.props.onCityChange(e)}},{key:"optionClick",value:function(e){this.setState({keyWord:e,resultArr:[]}),this.cityChange(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.keyWord,n=t.resultArr,c=t.isShowCheckBox;return r.a.createElement("div",{className:"city-search"},r.a.createElement("input",{type:"text",placeholder:"Please input more than 2 characters",value:a,onChange:this.keyWordChange,onBlur:this.inputOnBlur,onFocus:this.inputOnFocus}),n.length?r.a.createElement("div",{className:"keyWord-list"},n.map((function(t){return r.a.createElement("div",{className:"list-item",key:t.name,onClick:e.optionClick.bind(e,t.name)},t.name)}))):a.length>=2&&c?r.a.createElement("div",{className:"keyWord-list"},"No results"):"")}}]),a}(r.a.Component),E=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isLoaded:!0,weatherDataArr:[],city:"\u4e0a\u6d77"},n.cityChange=n.cityChange.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.fetchWeather(this.state.city)}},{key:"fetchWeather",value:function(e){var t=this;this.setState({isLoaded:!0}),fetch("https://free-api.heweather.net/s6/weather?key=5985d625110348c3ac510770a2f400b5&location="+e).then((function(e){return e.json()})).then((function(a){var n=a.HeWeather6[0].daily_forecast.map((function(e){return{time:e.date,weatherCode:e.cond_code_d,highTemp:e.tmp_max,lowTemp:e.tmp_min,weatherText:e.cond_txt_d}}));t.setState({weatherDataArr:n,isLoaded:!1,city:e})}))}},{key:"cityChange",value:function(e){this.fetchWeather(e)}},{key:"clickWeatherIcon",value:function(e){this.props.history.push("/DailyWeather/".concat(this.state.city,"/").concat(e.time))}},{key:"render",value:function(){var e=this,t=this.state,a=t.weatherDataArr,n=t.isLoaded,c=t.city;return r.a.createElement("div",null,r.a.createElement("div",null,"City Search Box:"),r.a.createElement(v,{onCityChange:this.cityChange}),r.a.createElement("h2",{className:"page-title"},"Three Days Weather Forecast Of ",c),n?r.a.createElement("h3",null,"Loading ... "):"",a.map((function(t){return r.a.createElement(f,{key:t.time,weather:t,handleClick:e.clickWeatherIcon.bind(e,t)})})))}}]),a}(r.a.Component),k=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={weatherDataArr:[],isLoaded:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://free-api.heweather.net/s6/weather?key=5985d625110348c3ac510770a2f400b5&location="+this.props.match.params.city).then((function(e){return e.json()})).then((function(t){var a=t.HeWeather6[0].daily_forecast.filter((function(t){return t.date===e.props.match.params.date})).map((function(e){return{time:e.date,weatherCode:e.cond_code_d,highTemp:e.tmp_max,lowTemp:e.tmp_min,weatherText:e.cond_txt_d,sunrise:e.sr,sunside:e.ss,windDir:e.wind_dir,windSpeed:e.wind_sc,rainPercent:e.pop,uv_index:e.uv_index}}));e.setState({weatherDataArr:a,isLoaded:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.weatherDataArr,a=e.isLoaded;return r.a.createElement("div",null,r.a.createElement("h2",{className:"page-title"},"One Day Weather Forecast Detail Of ",this.props.match.params.city),a?r.a.createElement("h2",null,"Loading ..."):"",t.map((function(e){return r.a.createElement("div",null,r.a.createElement(f,{key:e.time,weather:e}),r.a.createElement("div",{class:"clearBoth"},r.a.createElement("h4",null,"\u65e5\u51fa\u65f6\u95f4:\xa0\xa0",e.sunrise,"\xa0\xa0\xa0\xa0\u65e5\u843d\u65f6\u95f4:\xa0\xa0",e.sunside," "),r.a.createElement("h4",null,"\u98ce\u5411:\xa0\xa0",e.windDir,"\xa0\xa0\xa0\xa0\u98ce\u529b:\xa0\xa0",e.windSpeed," "),r.a.createElement("h4",null,"\u964d\u6c34\u6982\u7387: ",e.rainPercent,"%"),r.a.createElement("h4",null,"\u7d2b\u5916\u7ebf\u5f3a\u5ea6\u6307\u6570: ",e.uv_index,"%")))})))}}]),a}(r.a.Component);function w(){return r.a.createElement("h2",{className:"page-title"},"Test default Router - Home page - Hellow World!!!")}var g=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/weather"},"Weather page")))),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/weather",component:E}),r.a.createElement(o.a,{path:"/dailyWeather/:city/:date",component:k}),r.a.createElement(o.a,{path:"/"},r.a.createElement(w,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.7931e775.chunk.js.map